%h1.page-header
  = I18n.t('patient.patient')
  %small= I18n.t('details')
.panel.panel-primary
  .panel-heading
    = @patient.full_name

  .panel-body
    %table.table.table-striped.table-bordered.table-hover
      %tbody
        %tr
          %th
            = I18n.t('patient.doctor')
          %td
            = @patient.doctor.full_name rescue nil
          %th
            = I18n.t('patient.hospital')
          %td{colspan: 3}
            = @patient.hospital.name rescue nil
        %tr
          %th
            = I18n.t('patient.billing_amount')
          %td
            = @patient.billing_amount
          %th
            = I18n.t('patient.balance')
          %td
            = @patient.balance
          %th
            = I18n.t('patient.payment_status')
          %td
            = @patient.payment_status.upcase rescue nil
        %tr
          %th
            = I18n.t('patient.patient_num')
          %td
            = @patient.patient_num
          %th
            = I18n.t('patient.date_admitted')
          %td
            = @patient.date_admitted
          %th
            = I18n.t('patient.procedure')
          %td
            = @patient.procedure
        %tr
          %th
            = I18n.t('patient.hmo')
          %td{colspan: 3}
            = @patient.hmo
          %th
            = I18n.t('patient.contact_num')
          %td
            = @patient.contact_num


- if can? :edit, @patient
  = link_to edit_patient_path(@patient), :class => "btn btn-primary" do
    %span.fa.fa-pencil
    = I18n.t('edit')
- if ((URI(request.referer).path.split('/').last == 'new') || (URI(request.referer).path.split('/').last == 'edit') || (URI(request.referer).path.split('/').last == 'make_payment'))
  = link_to patients_path, :class => "btn btn-default" do
    %span.fa.fa-list
    = I18n.t('back')
- else
  = link_to :back, :class => "btn btn-default" do
    %span.fa.fa-list
    = I18n.t('back')

